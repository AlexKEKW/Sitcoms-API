<!DOCTYPE html>
<html lang="pt-br">

<head>
  <script src="js/sitcom-api.js" defer></script>
  <script src="manifest.json" defer></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="description" content="Performance de SEO" />
  <meta name="theme-color" content="#ffffff"/>
  <title>Consulta de Sitcoms</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <!--ESTILOS-->
  <style>
    .custom-max-width {
      max-width: 50%;
      margin-top: 150px;
    }

    #resultado {
      width: 50%;
      margin: 0 auto;
      padding: 10px;
      margin-top: 10px;
      max-width: 300px;
      background-color: cyan;
      border: thick double #32a1ce;
      border-radius: 10px;
      box-shadow: 2px 2px grey;
    }

    .margin {
      margin-top: 40px;
    }
  </style>

  <link rel="stylesheet" href="assets/css/sitcom.css" />
  <link rel="stylesheet" href="assets/css/global.css" />

  <!--SCRIPTS-->
  <!-- <script src="js/sitcom-api.js" defer></script>
  <script src="manifest.json" defer></script> -->
  <script defer>
    if (typeof navigator.serviceWorker !== 'undefined') {
      navigator.serviceWorker.register('sw.js')
    }
  </script>


  <!--BOOTSTRAP-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"
    defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
    integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"
    defer></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
    integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"
    defer></script>

  <!--NORMALIZE CSS-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!--FONTE ROBOTO-->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;500;700&display=swap" rel="stylesheet" />
</head>

<body>
  <h1 class="d-grid gap-2">Consulte a Sitcom</h1>

  <div class="row justify-content-center">
    <div class="col-auto">
      <div class="form-floating">
        <input type="text" class="form-control" id="inputSitcom" placeholder="Sitcom" />
        <label for="inputSitcom">Digite o index da <i>sitcom</i></label>
      </div>
    </div>
  </div>

  <div id="resultado" class="d-flex justify-content-center">
    <h4>Resultado da <i>sitcom</i></h4>
  </div>


  <div class="pagination d-grid gap-2">
    <button class="btn btn-primary" id="loadMoreButton" onclick="consultaSitcom()" type="button">
      Carregar sitcom
    </button>
  </div>

  <hr class="border border-primary border-5 opacity-75" />

  <!-- <div class="container" style="width: 70%;">
            <div class="row justify-content-center">
            <div class="col-sm-8 col-md-6 col-lg-4">
                <div class="card border text-center">
                <img src="assets/img/2952720.png" class="card-img-top" alt="Imagem referente a documentacão do meu projeto feito para a cadeira de Mobile para o curso de Análise e Desenvolvimento de Sistemas.">
                <div class="card-body">
                    <h5 class="card-title">Documentação (ou quase)</h5>
                    <p class="card-text">Um guia simples de como usar essa aplicação simples criar por mim para uma atividade da faculdade.</p>
                    <a href="assets/Sitcom API (experiência acadêmica).pdf" download="SitcomsAPI" class="btn btn-primary">Baixar</a>
                    <a href="assets/Sitcom API (experiência acadêmica).pdf" target="_blank" class="btn btn-primary">Visualizar na web</a>
                </div>
                </div>
            </div>
            </div>
        </div> -->

  <div class="card custom-max-width text-center mx-auto">
    <div class="card-header">Documentação (ou quase)</div>
    <div class="card-body">
      <h5 class="card-title"><i>Sitcom</i> API</h5>
      <p class="card-text">
        Um guia simples de como usar essa aplicação criada por Alex Santos para
        uma atividade da faculdade para cadeira de Mobile do curso de Análise
        e Desenvolvimento de Sistemas (3° período).
      </p>
      <a href="assets/SitcomAPI.pdf" download="SitcomsAPI" class="btn btn-primary">Baixar
        PDF no dispositivo</a>
      <a href="assets/SitcomAPI.pdf" target="_blank" class="btn btn-primary">Visualizar PDF na
        <i>web</i></a>
    </div>
    <div class="card-footer text-body-secondary d-flex justify-content-center">
      <a href="https://www.linkedin.com/in/alex-santos-dev" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
          class="bi bi-linkedin my-icon" viewBox="0 0 16 16">
          <path
            d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
        </svg>
      </a>

      <a href="https://github.com/AlexKEKW" target="_blank" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-github my-icon"
          viewBox="0 0 16 16">
          <path
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
        </svg>
      </a>
    </div>
  </div>

  <div class="text-center margin" id="snackbar">Uma nova versão está disponível! Clique <a id="reload">AQUI</a> para atualizar.</div>

  <!--BOOTSTRAP script-->

  <script>
    document.addEventListener("keydown", function (event) {
      if (event.keyCode === 13) {
        // Verifica se o foco está no input com id "inputSitcom"
        if (event.target.id === "inputSitcom") {
          // Chama a função que executa a ação do botão de consulta
          consultaSitcom();
        }
      }
    });

    
    let newWorker;
    function showUpdateBar() {
      let snackbar = document.getElementById('snackbar');
      snackbar.className = 'show';
    }
    // The click event on the pop up notification
    document.getElementById('reload').addEventListener('click', function () {
      newWorker.postMessage({ action: 'skipWaiting' });
    });
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').then(reg => {
        reg.addEventListener('updatefound', () => {
          // A wild service worker has appeared in reg.installing!
          newWorker = reg.installing;
          newWorker.addEventListener('statechange', () => {
            // Has network.state changed?
            switch (newWorker.state) {
              case 'installed':
                if (navigator.serviceWorker.controller) {
                  // new update available
                  showUpdateBar();
                }
                // No update available
                break;
            }
          });
        });
      });
      let refreshing;
      navigator.serviceWorker.addEventListener('controllerchange', function () {
        if (refreshing) return;
        window.location.reload();
        refreshing = true;
      });
    }
    

  </script>
</body>

</html>